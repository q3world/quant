# quant

实时分布量化计算

（软件内实现的量化策略，仅可作为参考，:warning: 投资有风险，交易请谨慎）

## run

### 0. 配置 quant.cfg

0.1 如果配置了 "url"，系统将按分布模式执行，即将结果传到服务端，如果没配置 "url"，则按独立模式执行

0.2 配置 "selection"，设定选择的代码（"000001.0"，尾缀代表市场：0 为深市；1 为沪市）

### 1. 分布模式

1.1 先运行 python quant_srv.py，以启动服务端程序

1.2 在浏览器打开 http://localhost:5050/

1.3 运行 python quant.py 启动客户端程序

### 2. 独立模式

2.1 直接运行 python quant.py 启动程序

## interface

quant.png

提示数据包括：品种代码、品种名称、当前价格、时间频、策略名称、策略数据（均值、价格均值差、价格均值差率）、k线时间

## strategy

实现的 k线，包括：5分钟线、10分钟线、15分钟线、30分钟线、1小时线、2小时线、日线、周线、月线

实现的策略，包括：

### MA策略：

当价格回落到均线（ma5， ma10， ma20， ma30， ma60， ma120， ma240）不足一个点，且在一半周期时间内价格没有跌破均线，均线向上

### MACD策略：

当 macd 形成顶背离或底背离（非确认背离，由于当前 k线的价格仍在变动，有可能使得背离未成形）

## log

### 2021/11/28

增加 简单的量化服务端 quant_srv.py：客户端 quant.py 运行时，会将符合的量化结果通过 websocket 传给服务端 quant_srv.py，服务端 quant_srv.py 接收到数据后，会通过 websocket 自动将数据传到网页端。

### 2021/11/11

增加 MACD策略：当 macd 形成顶背离或底背离（非确认背离，由于当前 k线的价格仍在变动，有可能使得背离未成形）时，则输出并鸣响提示。

### 2021/11/9

增加数据源 pytdx （当前约定数据源）（akshare 比较慢，pytdx 快n多）

### 2021/11/6

quant 运行后，在交易时间段内，会循环执行提取数据，计算量化策略（当前数据通过 akshare 提取）；

初始时，提取各时间频 k线数据，若数据源无此时间频数据，则用小时间频数据生成（10m线由 5m线生成、2h线由 1h线生成）；

每次循环执行时，仅提取有限最小时间频数据，然后更新各时间频数据；

当前，仅实现 MA策略：当价格回落到均线（ma5，ma10， ma20， ma30， ma60， ma120，ma240）不足一个点，且在一半周期时间内价格没有跌破均线，均线向上时，则输出并鸣响提示。

## ref

akshare： https://github.com/akfamily/akshare

pytdx： https://github.com/rainx/pytdx
